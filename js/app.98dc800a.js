(function(){"use strict";var e={8411:function(e,t,o){var r=o(5130),n=o(6768);const s={class:"flex"},a={class:"flex-1 p-4"};function l(e,t,o,r,l,i){const c=(0,n.g2)("SideNav"),u=(0,n.g2)("TopNav"),d=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(c),(0,n.Lk)("div",a,[(0,n.bF)(u),(0,n.bF)(d)])])}const i={class:"bg-gray-800 text-white p-4 flex justify-between"},c={class:"flex space-x-4"};function u(e,t,o,r,s,a){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",c,[(0,n.bF)(l,{to:"/",class:"text-xl"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Home")]))),_:1}),(0,n.bF)(l,{to:"/products/category/mobile"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Mobile")]))),_:1}),(0,n.bF)(l,{to:"/products/category/clothings"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Clothings")]))),_:1}),(0,n.bF)(l,{to:"/products/search/Home%20&%20Decor"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Home & Decor")]))),_:1}),(0,n.bF)(l,{to:"/products/category/sports"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Sports")]))),_:1}),(0,n.bF)(l,{to:"/products/category/softwares"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("Softwares")]))),_:1})]),(0,n.bF)(l,{to:"/cart",class:"text-xl"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("My Cart")]))),_:1})])}var d={name:"TopNav"},p=o(1241);const f=(0,p.A)(d,[["render",u],["__scopeId","data-v-95907082"]]);var h=f;const b={class:"bg-gray-200 w-60 h-full p-4 space-y-4"};function m(e,t,o,r,s,a){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(l,{to:"/cart",class:"block"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("My Cart")]))),_:1}),(0,n.bF)(l,{to:"/wishlist",class:"block"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("My Wishlist")]))),_:1}),(0,n.bF)(l,{to:"/orders",class:"block"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("My Orders")]))),_:1})])}var g={name:"SideNav"};const y=(0,p.A)(g,[["render",m],["__scopeId","data-v-32e9526d"]]);var v=y,k={components:{TopNav:h,SideNav:v}};const x=(0,p.A)(k,[["render",l],["__scopeId","data-v-54c578b0"]]);var w=x,C=o(1387),E=o(4232);const L={class:"bg-gray-100 min-h-screen"},_={class:"bg-blue-600 px-6 py-4 flex justify-between items-center text-white sticky top-0 z-10"},P={class:"flex w-full md:w-1/2 lg:w-1/3 gap-2"},O={class:"flex"},T={class:"bg-indigo-700 w-60 min-h-screen p-4 text-white hidden md:block"},S=["onClick"],F={class:"flex-1 p-6"},j={key:0,class:"flex justify-center items-center h-64"},N={key:1,class:"text-center text-red-500 text-xl"},A={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},X=["src"],I={class:"font-semibold text-lg"},W={class:"text-gray-600"},M={class:"text-gray-400 text-sm"},Q=["onClick"],$={key:3,class:"text-center text-gray-500 text-xl"},U={class:"flex justify-center mt-10"};function q(e,t,o,s,a,l){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",L,[(0,n.Lk)("nav",_,[t[5]||(t[5]=(0,n.Lk)("div",{class:"text-2xl font-bold"},"E-Shop",-1)),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>l.debouncedSearch&&l.debouncedSearch(...e)),placeholder:"Search products...",class:"flex-1 p-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-300"},null,544),[[r.Jo,a.searchQuery]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.manualSearch&&e.manualSearch(...t)),class:"bg-white text-blue-600 font-semibold px-4 py-2 rounded-lg hover:bg-blue-100 transition"}," Search ")])])]),(0,n.Lk)("div",O,[(0,n.Lk)("aside",T,[t[6]||(t[6]=(0,n.Lk)("h2",{class:"text-2xl mb-4"},"Categories",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.categories,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e,onClick:t=>l.filterByCategory(e),class:"cursor-pointer hover:underline mb-2"},(0,E.v_)(e),9,S)))),128)),(0,n.Lk)("li",{onClick:t[3]||(t[3]=(...e)=>l.clearCategory&&l.clearCategory(...e)),class:"cursor-pointer hover:underline mt-6 text-gray-300 text-sm"}," Clear Filter ")])]),(0,n.Lk)("main",F,[a.loading?((0,n.uX)(),(0,n.CE)("div",j,t[7]||(t[7]=[(0,n.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):(0,n.Q3)("",!0),a.error?((0,n.uX)(),(0,n.CE)("div",N," Oh! Seems something went wrong on the page. ")):(0,n.Q3)("",!0),l.filteredProducts.length&&!a.loading?((0,n.uX)(),(0,n.CE)("div",A,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.filteredProducts,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"bg-white rounded-lg shadow-md p-4"},[(0,n.Lk)("img",{src:a.backendUrl+e.image,alt:"Product",class:"w-full h-40 object-cover rounded mb-3"},null,8,X),(0,n.Lk)("h3",I,(0,E.v_)(e.title),1),(0,n.Lk)("p",W,"$"+(0,E.v_)(e.price),1),(0,n.Lk)("p",M,(0,E.v_)(e.category),1),(0,n.Lk)("span",{class:(0,E.C4)(["inline-block mt-2 px-2 py-1 rounded text-white text-xs",e.is_sale?"bg-green-500":"bg-red-500"])},(0,E.v_)(e.is_sale?"Free":"Sale"),3),(0,n.Lk)("button",{onClick:t=>l.addToCart(e.id),class:"mt-4 bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded w-full transition"}," Add to Cart ",8,Q)])))),128))])):(0,n.Q3)("",!0),l.filteredProducts.length||a.loading||a.error?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",$," No Products Found ")),(0,n.Lk)("div",U,[(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.goToAllProducts&&l.goToAllProducts(...e)),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition"}," View All Products ")])])])],64)}o(4114),o(8111),o(2489);var J=o(4373),V=o(8626),B=o.n(V),H={name:"HomePage",data(){return{products:[],loading:!1,error:!1,backendUrl:"https://aayushchoudhary.pythonanywhere.com",searchQuery:"",selectedCategory:"",categories:["mobile","electronics","headphones","clothings","kids wear","home & decor","sports wear","sports","softwares","laptops","musical instruments","toys","bags","beauty products","furniture"]}},computed:{filteredProducts(){let e=this.products;if(""!==this.searchQuery.trim()){const t=this.searchQuery.trim().toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)))}return e}},methods:{async fetchProducts(e=""){this.loading=!0,this.error=!1;try{let t=`${this.backendUrl}/api/products/most-bought/`;e&&(t=`${this.backendUrl}/api/products/?category=${encodeURIComponent(e)}`);const o=await J.A.get(t);this.products=o.data}catch(t){console.error("API Error:",t),this.error=!0,setTimeout((()=>this.$router.push("/")),3e3)}finally{this.loading=!1}},async addToCart(e){try{const t=localStorage.getItem("token");await J.A.post(`${this.backendUrl}/api/cart/add/`,{product_id:e,quantity:1},{headers:{Authorization:`Bearer ${t}`}}),await this.fetchProducts()}catch(t){console.error("Add to Cart Error:",t)}},debouncedSearch:B().debounce((function(){}),500),goToAllProducts(){this.$router.push("/products")},async filterByCategory(e){this.selectedCategory=e,await this.fetchProducts(e),window.scrollTo(0,0)},async clearCategory(){this.selectedCategory="",await this.fetchProducts(),window.scrollTo(0,0)}},created(){this.fetchProducts()}};const K=(0,p.A)(H,[["render",q],["__scopeId","data-v-864b6a22"]]);var z=K;const D={class:"min-h-screen flex items-center justify-center bg-gray-100 px-4"},R={class:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md"},G={key:0},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={key:1},ee={key:0,class:"text-red-500 text-sm mt-1"};function te(e,t,o,s,a,l){return(0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("div",R,[t[8]||(t[8]=(0,n.Lk)("h2",{class:"text-2xl font-bold mb-6 text-center text-purple-700"}," Welcome Back ",-1)),1===a.step?((0,n.uX)(),(0,n.CE)("div",G,[t[5]||(t[5]=(0,n.Lk)("label",{class:"block text-sm font-semibold mb-2 text-gray-700"}," Mobile Number ",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.mobile=e),type:"text",placeholder:"Enter your 10-digit mobile number",class:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[r.Jo,a.mobile]]),a.mobileError?((0,n.uX)(),(0,n.CE)("p",Y,(0,E.v_)(a.mobileError),1)):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.requestOtp&&l.requestOtp(...e)),class:"w-full mt-6 bg-purple-600 text-white py-2 rounded-full hover:bg-purple-700"}," Send OTP ")])):((0,n.uX)(),(0,n.CE)("div",Z,[t[6]||(t[6]=(0,n.Lk)("label",{class:"block text-sm font-semibold mb-2 text-gray-700"}," Full Name ",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.fullName=e),type:"text",placeholder:"Enter your full name",class:"w-full px-4 py-2 mb-4 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[r.Jo,a.fullName]]),t[7]||(t[7]=(0,n.Lk)("label",{class:"block text-sm font-semibold mb-2 text-gray-700"}," OTP ",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.otp=e),type:"text",placeholder:"Enter OTP",class:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[r.Jo,a.otp]]),a.otpError?((0,n.uX)(),(0,n.CE)("p",ee,(0,E.v_)(a.otpError),1)):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.verifyOtp&&l.verifyOtp(...e)),class:"w-full mt-6 bg-purple-600 text-white py-2 rounded-full hover:bg-purple-700"}," Verify & Login ")]))])])}var oe=o(5068),re={name:"LoginPage",data(){return{step:1,mobile:"",fullName:"",otp:"",mobileError:"",otpError:""}},methods:{validateMobile(e){const t=/^[6-9]\d{9}$/;return t.test(e)},async requestOtp(){if(this.mobileError="",this.validateMobile(this.mobile))try{const e=await fetch("https://aayushchoudhary.pythonanywhere.com/api/auth/request-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:this.mobile})}),t=await e.json();e.ok?this.step=2:this.mobileError=t.message||"Failed to send OTP."}catch(e){this.mobileError="Network error. Try again."}else this.mobileError="Enter a valid 10-digit mobile number starting with 9, 8, 7, or 6."},async verifyOtp(){if(this.otpError="",this.otp&&this.fullName)try{const e=await fetch("https://aayushchoudhary.pythonanywhere.com/api/auth/verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:this.mobile,otp:this.otp,full_name:this.fullName})}),t=await e.json();if(console.log("OTP verification response:",t),e.ok){console.log(t.token),localStorage.setItem("token",t.token);const e=(0,oe.s)(t.token);console.log(e),localStorage.setItem("user_id",e.user_id),localStorage.setItem("full_name",t.full_name),alert("Login successful! 🎉"),console.log("Login success, redirecting to /about..."),this.$router.push("/")}else this.otpError=t.message||"OTP verification failed."}catch(e){console.error("Error verifying OTP:",e),this.otpError="Network error. Try again."}else this.otpError="Please enter both full name and OTP."}}};const ne=(0,p.A)(re,[["render",te],["__scopeId","data-v-dfb5886a"]]);var se=ne;const ae=[{path:"/",name:"home",component:z},{path:"/about",name:"about",component:()=>o.e(594).then(o.bind(o,603))},{path:"/login",name:"login",component:se}],le=(0,C.aE)({history:(0,C.LA)("/"),routes:ae});var ie=le,ce=o(782),ue=(0,ce.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,r.Ef)(w).use(ue).use(ie).mount("#app")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,s){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],s=e[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[i])}))?r.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.a5c3feeb.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ecommerce-frontend:";o.l=function(r,n,s,a){if(e[r])e[r].push(n);else{var l,i;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+s),l.src=r),e[r]=[n];var p=function(t,o){l.onerror=l.onload=null,clearTimeout(f);var n=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(o)})),t)return t(o)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){var e={524:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var s=new Promise((function(o,r){n=e[t]=[o,r]}));r.push(n[2]=s);var a=o.p+o.u(t),l=new Error,i=function(r){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",l.name="ChunkLoadError",l.type=s,l.request=a,n[1](l)}};o.l(a,i,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,s,a=r[0],l=r[1],i=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(i)var u=i(o)}for(t&&t(r);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},r=self["webpackChunkecommerce_frontend"]=self["webpackChunkecommerce_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(8411)}));r=o.O(r)})();
//# sourceMappingURL=app.98dc800a.js.map